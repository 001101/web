<section class="content-header">
    <h1>Domain Rules</h1>
</section>
<section class="content">
    <p>
        If you have the same login across multiple different website domains, you can mark the website as "equivalent".
        "Global" domains are ones already created for you by bitwarden.
    </p>
    <form name="customForm" ng-submit="customForm.$valid && saveCustom()" api-form="customPromise">
        <div class="box box-default">
            <div class="box-header with-border">
                <h3 class="box-title">Custom Equivalent Domains</h3>
                <div class="box-tools pull-right">
                    <button type="button" class="btn btn-box-tool" ng-click="addEdit(null)">
                        <i class="fa fa-plus-circle"></i> Add New
                    </button>
                    <button type="button" class="btn btn-box-tool" data-widget="collapse" uib-tooltip="Collapse/Expand">
                        <i class="fa fa-minus"></i>
                    </button>
                </div>
            </div>
            <div class="box-body no-padding">
                <div class="table-responsive">
                    <table class="table table-striped table-hover">
                        <tbody ng-if="equivalentDomains.length">
                            <tr ng-repeat="customDomain in equivalentDomains track by $index">
                                <td style="width: 80px; min-width: 80px;">
                                    <button type="button" class="btn btn-link btn-table" uib-tooltip="Edit" ng-click="addEdit($index)">
                                        <i class="fa fa-lg fa-pencil"></i>
                                    </button>
                                    <button type="button" class="btn btn-link btn-table" uib-tooltip="Delete" ng-click="delete($index)">
                                        <i class="fa fa-lg fa-trash"></i>
                                    </button>
                                </td>
                                <td>{{customDomain}}</td>
                            </tr>
                        </tbody>
                        <tbody ng-if="!equivalentDomains.length">
                            <tr>
                                <td>No domains to list.</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="box-footer">
                <button type="submit" class="btn btn-primary btn-flat" ng-disabled="customForm.$loading">
                    <i class="fa fa-refresh fa-spin loading-icon" ng-show="customForm.$loading"></i>Save
                </button>
            </div>
        </div>
    </form>

    <form name="globalForm" ng-submit="globalForm.$valid && saveGlobal()" api-form="globalPromise">
        <div class="box box-default">
            <div class="box-header with-border">
                <h3 class="box-title">Global Equivalent Domains</h3>
                <div class="box-tools pull-right">
                    <button type="button" class="btn btn-box-tool" data-widget="collapse" uib-tooltip="Collapse/Expand">
                        <i class="fa fa-minus"></i>
                    </button>
                </div>
            </div>
            <div class="box-body no-padding">
                <div class="table-responsive">
                    <table class="table table-striped table-hover">
                        <tbody ng-if="globalEquivalentDomains.length">
                            <tr ng-repeat="globalDomain in globalEquivalentDomains">
                                <td style="width: 80px; min-width: 80px;">
                                    <button type="button" class="btn btn-link btn-table" uib-tooltip="Exclude"
                                            ng-if="!globalDomain.excluded" ng-click="toggleExclude(globalDomain)">
                                        <i class="fa fa-lg fa-ban"></i>
                                    </button>
                                    <button type="button" class="btn btn-link btn-table" uib-tooltip="Include"
                                            ng-if="globalDomain.excluded" ng-click="toggleExclude(globalDomain)">
                                        <i class="fa fa-lg fa-plus"></i>
                                    </button>
                                    <button type="button" class="btn btn-link btn-table" uib-tooltip="Customize"
                                            ng-click="customize(globalDomain)">
                                        <i class="fa fa-lg fa-cut"></i>
                                    </button>
                                </td>
                                <td ng-class="{strike: globalDomain.excluded}">{{globalDomain.domains}}</td>
                            </tr>
                        </tbody>
                        <tbody ng-if="!globalEquivalentDomains.length">
                            <tr>
                                <td>No domains to list.</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="box-footer">
                <button type="submit" class="btn btn-primary btn-flat" ng-disabled="globalForm.$loading">
                    <i class="fa fa-refresh fa-spin loading-icon" ng-show="globalForm.$loading"></i>Save
                </button>
            </div>
        </div>
    </form>
</section>

